@inject Microsoft.AspNetCore.Mvc.Localization.IViewLocalizer localizer
<!doctype html>
<html lang="en" data-nav-layout="vertical" data-header-styles="dark" data-menu-styles="light" data-vertical-style="overlay" data-toggled="icon-overlay-close">
<head>

    <!-- META DATA -->
    <meta charset="UTF-8">
    <meta name='viewport' content='width=device-width, initial-scale=1.0, user-scalable=0'>
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="description" content="Smsa – Billing  Portal">
    <meta name="author" content="Ahsan Shakeel">
    <meta name="keywords" content="admin,admin dashboard,admin panel">
    
    <!-- TITLE -->
    <title>Smsa – Billing  Portal</title>

    @{
        var culture = System.Threading.Thread.CurrentThread.CurrentCulture.Name;

        // Determine the stylesheet based on culture
        if (culture == "en") {
          <!-- FAVICON -->
          <link rel="shortcut icon" type="image/x-icon" href="../assets/images/brand/favicon.ico">

          <!--/BOOTSTRAP CSS -->
          <link id="style" href="../assets/plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet">

          <!--/STYLE CSS -->
          <link href="../assets/css/style.css" rel="stylesheet">

          <link href='https://cdn.datatables.net/searchbuilder/1.6.0/css/searchBuilder.bootstrap5.min.css' rel='stylesheet' />
          <link href='https://cdn.datatables.net/datetime/1.5.1/css/dataTables.dateTime.min.css' rel='stylesheet' />
          <link href='https://cdn.datatables.net/select/1.7.0/css/select.dataTables.min.css' rel='stylesheet' />
          <linl href='https://cdn.datatables.net/colreorder/1.7.0/css/colReorder.dataTables.min.css' rel='stylesheet' />
          <link href='../editor.DataTables.min.css' rel='stylesheet' />

          <!--/Plugins CSS -->
          <link href="../assets/css/plugins.css" rel="stylesheet">

          <!---/FONT-ICONS CSS -->
          <link href="../assets/css/icons.css" rel="stylesheet">

          <!--/INTERNAL Switcher css -->
          <link href="../assets/switcher/css/switcher.css" rel="stylesheet">
          <link href="../assets/switcher/demo.css" rel="stylesheet">
          <link href="../CustomStyleSheet.css" rel="stylesheet">
          <link href="../TimeLineStyleSheet.css" rel="stylesheet">

        } else {
          <link rel="shortcut icon" type="image/x-icon" href="../assetsArabic/images/brand/favicon.ico">

          <!-- BOOTSTRAP CSS -->
          <link id="style" href="../assetsArabic/plugins/bootstrap/css/bootstrap.min.css" rel="stylesheet">

          <!--/STYLE CSS -->
          <link href="../assetsArabic/css/style.css" rel="stylesheet">

          <link href="https://cdn.datatables.net/searchbuilder/1.6.0/css/searchBuilder.bootstrap5.min.css" rel="stylesheet" />
          <link href="https://cdn.datatables.net/datetime/1.5.1/css/dataTables.dateTime.min.css" rel="stylesheet" />
          <link href="https://cdn.datatables.net/select/1.7.0/css/select.dataTables.min.css" rel="stylesheet" />
          <linl href="https://cdn.datatables.net/colreorder/1.7.0/css/colReorder.dataTables.min.css" rel="stylesheet" />
          <link href="../editor.DataTables.min.css" rel="stylesheet" />

          <!--/Plugins CSS -->
          <link href="../assetsArabic/css/plugins.css" rel="stylesheet">

          <!---/FONT-ICONS CSS -->
          <link href="../assetsArabic/css/icons.css" rel="stylesheet">

          <!--/INTERNAL Switcher css -->
          <link href="../assetsArabic/switcher/css/switcher.css" rel="stylesheet">
          <link href="../assetsArabic/switcher/demo.css" rel="stylesheet">
          <link href="../CustomStyleSheet.css" rel="stylesheet">
          <link href="../TimeLineStyleSheet.css" rel="stylesheet">
            
        }
    }

    <!--/JQUERY JS -->
    <script src="../assets/js/jquery.min.js"></script>

    <!--/BOOTSTRAP JS -->
    <script src="../assets/plugins/bootstrap/js/popper.min.js"></script>
    <script src="../assets/plugins/bootstrap/js/bootstrap.min.js"></script>
    
    <!--/SPARKLINE JS-->
    <script src="../assets/js/jquery.sparkline.min.js"></script>

    <!--/INPUT MASK JS-->
    <script src="../assets/plugins/input-mask/jquery.mask.min.js"></script>

	<!--/TypeHead js -->
	<script src="../assets/plugins/bootstrap5-typehead/autocomplete.js"></script>
    <script src="../assets/js/typehead.js"></script>

    <!--/INTERNAL SELECT2 JS -->
    <script src="../assets/plugins/select2/select2.full.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>

    <!--/DATA TABLE JS-->
    <script src="../assets/plugins/datatable/js/jquery.dataTables.min.js"></script>
    <script src="../assets/plugins/datatable/js/dataTables.bootstrap5.js"></script>
    <script src="../assets/plugins/datatable/js/dataTables.buttons.min.js"></script>
    <script src="../assets/plugins/datatable/js/buttons.bootstrap5.min.js"></script>
    <script src="../assets/plugins/datatable/js/jszip.min.js"></script>
    <script src="../assets/plugins/datatable/pdfmake/pdfmake.min.js"></script>
    <script src="../assets/plugins/datatable/pdfmake/vfs_fonts.js"></script>
    <script src="../assets/plugins/datatable/js/buttons.html5.min.js"></script>
    <script src="../assets/plugins/datatable/js/buttons.print.min.js"></script>
    <script src="../assets/plugins/datatable/js/buttons.colVis.min.js"></script>
    <script src="../assets/plugins/datatable/dataTables.responsive.min.js"></script>
    <script src="../assets/plugins/datatable/responsive.bootstrap5.min.js"></script>

    <script src="https://cdn.datatables.net/select/1.7.0/js/dataTables.select.min.js"></script>
    <script src="https://cdn.datatables.net/colreorder/1.7.0/js/dataTables.colReorder.min.js"></script>
    <script src="../DataTables.Editor.min.js"></script>
    <script src="../assets/js/table-data.js"></script>

    <script src="https://cdn.datatables.net/searchbuilder/1.6.0/js/dataTables.searchBuilder.min.js"></script>
    <script src="https://cdn.datatables.net/searchbuilder/1.6.0/js/searchBuilder.bootstrap5.min.js"></script>
    <script src="https://cdn.datatables.net/datetime/1.5.1/js/dataTables.dateTime.min.js"></script>

    <!--/Perfect SCROLLBAR JS-->
    <script src="../assets/plugins/p-scroll/perfect-scrollbar.js"></script>
    <script src="../assets/plugins/p-scroll/pscroll.js"></script>
    <script src="../assets/plugins/p-scroll/pscroll-1.js"></script>

    <!--/SIDE-MENU JS -->
    <script src="../assets/plugins/sidemenu/sidemenu.js"></script>

    <!--/SIDEBAR JS -->
    <script src="../assets/plugins/sidebar/sidebar.js"></script>
    
    <!--/INTERNAL APEXCHART JS -->
    <script src="../assets/js/apexcharts.js"></script>
    <script src="../assets/plugins/apexchart/irregular-data-series.js"></script>
    
     <!--/INTERNAL Flot JS -->
    <script src="../assets/plugins/flot/jquery.flot.js"></script>
    <script src="../assets/plugins/flot/jquery.flot.fillbetween.js"></script>
    <script src="../assets/plugins/flot/chart.flot.sampledata.js"></script>
    <script src="../assets/plugins/flot/dashboard.sampledata.js"></script>
    
    <!--/INTERNAL Vector js -->
    <script src="../assets/plugins/jvectormap/jquery-jvectormap-2.0.2.min.js"></script>
    <script src="../assets/plugins/jvectormap/jquery-jvectormap-world-mill-en.js"></script>
    <script src="../assets/js/index1.js"></script>

    <!--/Color Theme js -->
    <script src="../assets/js/themeColors.js"></script>

    <!--/Sticky js -->
    <script src="../assets/js/sticky.js"></script>

    <!--/CUSTOM JS -->
    <script src="../assets/js/custom.js"></script>

    <!--/Custom-switcher -->
    <script src="../assets/js/custom-swicher.js"></script>

    <!--/Switcher js -->
    <script src="../assets/switcher/js/switcher.js"></script>
    <script src="_framework/blazor.server.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.8/pdfmake.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.2.8/vfs_fonts.js"></script>

    <script src="../CustomPdfFiles.js"></script>
    <script src="../CustomJsFile.js"></script>

    <script src="https://cdnjs.cloudflare.com/ajax/libs/microsoft-signalr/8.0.0/signalr.min.js" ></script>
    <style>
        .selection {
            top: 28px;
            left: 136px;
            width: 330px;
            height: 42px;
            /* UI Properties */
            background: #041527 0% 0% no-repeat padding-box;
            border-radius: 8px;
            opacity: 1;
            }
    </style>
</head>

<body class="app sidebar-mini light-mode">

    <!--/GLOBAL-LOADER -->
    <div id="global-loader">
        <img src="../assets/images/loader.svg" class="loader-img" alt="Loader">
    </div>

    <!--/PAGE -->
    <div class="page">

        <header class="app-header">
            <div class="main-header-container container-fluid">

                <div class="header-content-left">

                    <div class="header-element">
                        <div class="horizontal-logo">
                            <a href="#" class="header-logo">
                                <img src="../assets/images/brand/icon-dark.png" class="toggle-logo" alt="logo">
                            </a>
                        </div>
                    </div>
                    <div class="header-element">
                        <a aria-label="Hide Sidebar" class="sidemenu-toggle header-link animated-arrow hor-toggle horizontal-navtoggle" data-bs-toggle="sidebar" href="javascript:void(0)"><span></span></a>
                    </div>

                    <div class="main-header-center  d-none d-lg-block header-link">
                         <form>
                              <select class="form-select" aria-label="Default select example" id="Location">
                                <option selected disabled>Search by Company Name</option>
                               </select>
                               <select class="form-select" aria-label="Default select example" id="CustomerEmail">
                                <option selected disabled>Seacrh by Email Id</option>
                               </select>
                               <select class="form-select" aria-label="Default select example" id="CustomerAccount">
                                <option selected disabled>Select by Account No</option>
                               </select>
                         </form>
                        <button class="navbar-toggler navresponsive-toggler d-lg-none ms-auto" type="button"
                                data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent-4"
                                aria-controls="navbarSupportedContent-4" aria-expanded="false"
                                aria-label="Toggle navigation">
                            <span class="navbar-toggler-icon fe fe-more-vertical"></span>
                        </button>
                    </div>

                </div>

                <div class="header-content-right">



                    <div class="header-element main-profile-user">
                        <div class="dropdown d-flex profile-1 large-screen">
                            <img src="../assets/images/users/21.jpg" alt="profile-user"
                                 class="avatar  profile-user cover-image" style="border-radius:10%;">
                            <a href="javascript:void(0)" data-bs-toggle="dropdown" class="dropdown-toggle nav-link leading-none d-flex">
                                <span class="text-white" id="customerEmailText"></span>
                            </a>

                            <div class="dropdown-menu dropdown-menu-end dropdown-menu-arrow">
                                <div class="drop-heading">
                                    <div class="text-center">
                                        <h5 class="text-dark mb-0 fs-14 fw-semibold" id="customerNameText"></h5>
                                        <small class="text-muted" id="customerDesignationText"></small>
                                    </div>
                                </div>

                                <div class="dropdown-divider m-0"></div>

                                <a class="dropdown-item" href="profile.html">
                                    <i class="dropdown-icon fe fe-user"></i> Profile
                                </a>
                                <a class="dropdown-item" href="lockscreen.html">
                                    <i class="dropdown-icon fe fe-lock"></i> Lockscreen
                                </a>
                                <a class="dropdown-item" href="@Url.ActionLink("","Authentication")">
                                    <i class="dropdown-icon fe fe-alert-circle"></i> Sign out
                                </a>
                            </div>

                        </div>

                    </div>
                </div>


            </div>
        </header>

        <aside class="app-sidebar" id="sidebar">

            <div class="main-sidebar-header">
                <a class="header-logo">
                    <img src="../assets/images/brand/logo-dark.png" class="desktop-logo" alt="logo">
                </a>
            </div>

            <div class="main-sidebar" id="sidebar-scroll">

                <nav class="main-menu-container nav nav-pills flex-column sub-open">

                    <ul class="main-menu">
                        @if(@User.Claims.FirstOrDefault( x => x.Type == "adminRole" ).Value == "SuperAdmin" || Convert.ToBoolean( @User.Claims.FirstOrDefault( x => x.Type == "viewInvoice" ).Value) == true)
                        {
                        <li class="slide">
                            <a class="side-menu__item" data-bs-toggle="slide" href="@Url.Action("Index","Invoice")">
                                <img src="../assets/images/dashboard/invoices-icon.png"><span class="side-menu__label">@localizer["Invoices"]</span>
                            </a>
                        </li>

                        }

                        @if(@User.Claims.FirstOrDefault( x => x.Type == "adminRole" ).Value == "SuperAdmin" || Convert.ToBoolean( @User.Claims.FirstOrDefault( x => x.Type == "viewPayment" ).Value) == true)
                        {
                        <li class="slide">
                            <a class="side-menu__item" data-bs-toggle="slide" href="@Url.Action("Payments","Payment")">
                                <img src="../assets/images/dashboard/receipts-icon.png"><span class="side-menu__label">@localizer["Receipts"]</span>
                            </a>
                        </li>
                        }

                        @if(@User.Claims.FirstOrDefault( x => x.Type == "adminRole" ).Value == "SuperAdmin" || Convert.ToBoolean( @User.Claims.FirstOrDefault( x => x.Type == "viewStatement" ).Value) == true)
                        {
                        <li class="slide">
                            <a class="side-menu__item" data-bs-toggle="slide" href="@Url.Action("Index","Statement")">
                                <img src="../assets/images/dashboard/statement-icon.png"><span class="side-menu__label">@localizer["Statement"]</span>
                            </a>
                        </li>
                        }

                        @if(@User.Claims.FirstOrDefault( x => x.Type == "adminRole" ).Value == "SuperAdmin" || Convert.ToBoolean( @User.Claims.FirstOrDefault( x => x.Type == "viewTicket" ).Value) == true)
                        {
                        <li class="slide align-bottom">
                            <a class="side-menu__item" data-bs-toggle="slide" href="@Url.Action("Tickets","Ticket")">
                                <img src="../assets/images/dashboard/tickets-icon.png"><span class="side-menu__label">@localizer["Tickets"]</span>
                            </a>
                        </li>
                        }




                        @if(@User.Claims.FirstOrDefault( x => x.Type == "adminRole" ) != null && @User.Claims.FirstOrDefault( x => x.Type == "adminRole" ).Value == "SuperAdmin")
                        {
                        <li class="slide">
                            <a class="side-menu__item" data-bs-toggle="slide" href="@Url.Action("ManageAdminUsers","User")">
                                <img src="../assets/images/dashboard/users-icon.png"><span class="side-menu__label">@localizer["Manage Users"]</span>
                            </a>

                        </li>
                        }



                        @***********************************************************************************************************************@
                        @***********************************************************************************************************************@
                        @***********************************************************************************************************************@


                        <li class="slide" style="position:absolute; bottom:0px;">
                            <a class="side-menu__item" data-bs-toggle="slide" href="@Url.Action("Logout","Authentication")">
                                <img src="../assets/images/dashboard/logout-icon.png"><span class="side-menu__label">@localizer["Logout"]</span>
                            </a>
                        </li>


                        @***********************************************************************************************************************@
                        @***********************************************************************************************************************@
                        @***********************************************************************************************************************@

                        <a aria-label="Hide Sidebar" class="app-sidebar__toggle sidebarToggleClass" data-bs-toggle="sidebar" href="javascript:void(0)"></a>

                    </ul>


                </nav>
            </div>

        </aside>
        <!--/APP-SIDEBAR-->
        <!--/app-content open-->
        <div class="main-content app-content">
            <div class="side-app">@RenderBody()</div>
        </div>
        <!--/app-content closed-->

    </div>
    <!--/PAGE-->
    <!--/BACK-TO-TOP -->
    <a href="#top" id="back-to-top"><i class="fa fa-angle-up"></i></a>
    <base href="~/" />
    <script src="_framework/blazor.server.js"></script>
    @RenderSection("scripts", required: false)

</body>

</html>

<script>
    document.addEventListener("DOMContentLoaded", function () {
        // Get the current page URL
        var currentUrl = window.location.pathname;

        // Get all the links in the navigation menu
        var menuLinks = document.querySelectorAll('.side-menu__item');

        // Loop through each link and check if its href matches the current URL
        menuLinks.forEach(function (link) {
            var linkUrl = link.getAttribute('href');

            if (currentUrl === linkUrl) {
                // Add the 'active-link' class to the matching link
                link.classList.add('active-link');
            }
        });
    });
</script>